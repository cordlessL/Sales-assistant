# Ассистент по продажам офисной техники.

Минимально рабочая версия (MVP).  
 Telegram-бот получает текстовый запрос от покупателя.  
 Генерирует текстовый ответ в GigaChat 1-2 товара,  
 формирует промп для генерации картинки в ProxyApi,  
 возвращает ответ: Картинку подписанную текстом. По необходимости задаёт уточняющий вопрос.

Учебный проект на Python: Telegram-бот с GigaChat AI и примеры работы с классами, декораторами и функциями.

Используется Python, GigaChat, ProxyApi


## Содержимое проекта

| Файл | Описание |
|------|----------|
| **bot.py** | Telegram-бот с интеграцией GigaChat. Роль — менеджер по продажам офисной техники. Поддерживает ответы на вопросы и генерацию изображений через ProxyAPI. |
| **main.py** | Демонстрация ООП: классы `Product` и `Store`, декоратор валидации цены, скидки по категориям. |
| **simple_example.py** | Простые примеры: функции для работы со списками (среднее, фильтр, min/max), подсчёт слов, приветствия. |

## Требования

- Python 3.8+
- Зависимости из `requirements.txt`

## Установка

1. Клонируйте репозиторий или скопируйте файлы проекта.

2. Создайте виртуальное окружение (рекомендуется):
   ```bash
   python -m venv venv
   venv\Scripts\activate
   ```

3. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```

4. Настройте переменные окружения:
   - Скопируйте `env.example` в `.env`
   - Заполните значения в `.env` (см. раздел «Настройка бота»)

## Запуск примеров (без бота)

**Магазин продуктов (классы и декораторы):**
```bash
python main.py
```

**Функции и списки:**
```bash
python simple_example.py
```

## Запуск Telegram-бота

```bash
python bot.py
```

### Настройка бота

В файле `.env` укажите:

| Переменная | Описание |
|------------|----------|
| `TELEGRAM_BOT_TOKEN` | Токен бота от [@BotFather](https://t.me/BotFather) в Telegram. |
| `GIGACHAT_AUTHORIZATION_KEY` | Base64-ключ авторизации GigaChat (из личного кабинета GigaChat). |
| или `GIGACHAT_CLIENT_ID` и `GIGACHAT_CLIENT_SECRET` | Альтернатива: пара client_id и client_secret для GigaChat. |
| `PROXY_API` | Ключ [ProxyAPI](https://proxyapi.ru) для генерации изображений (опционально). |

Без `PROXY_API` бот будет работать только в текстовом режиме (ответы GigaChat без картинок).

### Команды бота

- `/start` — приветствие и краткая инструкция
- `/help` — справка по командам и возможностям
- `/clear` — очистить историю сообщений (до 10 последних сообщений сохраняются для контекста)

## Зависимости

- **pyTelegramBotAPI** — работа с Telegram Bot API
- **python-dotenv** — загрузка переменных из `.env`
- **requests** — HTTP-запросы к GigaChat API
- **openai** — клиент для ProxyAPI (генерация изображений)

## Лицензия

Учебный проект.
